@model IndexViewModel

@{ 
	User loggedInUser = (User)ViewData["user"];
}

<div class="row">
	<div class="col-xs-9">
		<h1 class="Headers">Home</h1>

		<!--Api data-->
		<!--Agenda appointments-->
		@if (Model.AgendaAppointments != null)
		{
			<h3>Agenda appointments</h3>
			<table class="ContactTable">
				<tr>
					<th class="tableheader">Datum</th>
					<th class="tableheader">Kamernaam</th>
					<th class="tableheader">Beschrijving</th>
					<th class="tableheader">Reserveerder</th>
				</tr>
				@foreach (ApiAgendaAppointment appointment in Model.AgendaAppointments)
				{
					@if (appointment.Email == loggedInUser.Emailaddress)
					{
						<tr>
							<td class="tableitem">@appointment.Date</td>
							<td class="tableitem">@appointment.RoomName</td>
							<td class="tableitem">@appointment.Description</td>
							<td class="tableitem">@appointment.Email</td>
						</tr>
					}

				}
			</table>
		}
		<!--Ziekmeldingen-->
		@if (Model.Sickreports != null)
		{
			<h3>Ziekmeldingen</h3>

			<table class="ContactTable">
				<tr>
					<th class="tableheader">Datum</th>
					<th class="tableheader">Beschrijving</th>
					<th class="tableheader">Email</th>
                    <th class="tableheader"></th>
				</tr>

				@foreach (ApiSickReport sickReport in Model.Sickreports)
				{
					@if (sickReport.Email == loggedInUser.Emailaddress)
					{
						<tr>
							<td class="tableitem">@sickReport.DatetimeStart</td>
							<td class="tableitem">@sickReport.Description</td>
							<td class="tableitem">@sickReport.Email</td>
                            <td class="tableitem"></td>
						</tr>
					}
				}
				</table>
		}

	</div>
	<div class="col-xs-3 RightSideOfScreen">
		<h3>News</h3>
		@foreach (NewsfeedPost post in Model.NewsFeedPosts)
		{
			<div class="newsPost row">
				<span class="newsFeedDate col-xs-10 col-xs-offset-1">@post.Date</span>
				<span class="newsFeedMessage col-xs-10 col-xs-offset-1">@post.Message</span>
			</div>
		}
	</div>
</div>



	
